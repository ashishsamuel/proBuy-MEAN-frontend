<app-header></app-header>
<div style="margin-top: 80px;" class="d-flex justify-content-center align-items-center flex-column w-100">
    <div class="Delivery w-50 mt-5"> 
        <h1 style="overflow-y: hidden;">Delivery Details</h1>
        <form *ngIf="!proceedToBuyStatus" [formGroup]="checkoutForm" class="border p-4 mb-5 rounded" (ngSubmit)="proceedToBuy()">
            <div class="mb-3">
                <label for="exampleFormControlInput1" class="form-label">Username</label>
                <input type="text" class="form-control" id="exampleFormControlInput1" name="uname" formControlName="uname" placeholder="Enter the username">
              </div>
              
              <div class="mb-3">
                <label for="exampleFormControlInput" class="form-label">Apartment /Flat No</label>
                <input type="text" class="form-control" id="exampleFormControlInput1" name="flat" formControlName="flat" placeholder="Enter the apartment / flat no">
              </div>

              <div class="mb-3">
                <label for="exampleFormControlInput" class="form-label">Place</label>
                <input type="text" class="form-control" id="exampleFormControlInput1" name="place" formControlName="place" placeholder="Enter the place">
              </div>

              <div class="mb-3">
                <label for="exampleFormControlInput" class="form-label">Pincode</label>
                <input type="number" class="form-control" id="exampleFormControlInput1" name="pincode" formControlName="pincode" placeholder="Enter pincode">
              </div>

              <div class="d-flex justify-content-between align-items-center">
                <button (click)="cancel()" class="btn btn-warning">Cancel</button>
                <button type="submit" class="btn btn-success">Proceed to Payment</button>
              </div>
        </form>

        <div *ngIf="proceedToBuyStatus" class="mb-4 border rounded p-4">
          <h4>Address</h4>
          <span>{{checkoutForm.value.uname}}</span>
          <span>{{checkoutForm.value.flat}} ,</span>
          <span>{{checkoutForm.value.place}} ,</span>
          <p>{{checkoutForm.value.pincode}}</p>
          <hr>
          <h5>Total Amount : <span>{{totalAmount}}</span></h5>
          <div *ngIf="!proceedToPaymentStatus" class="d-flex justify-content-between align-items-center">
            <button (click)="back()" class="btn btn-warning">Back</button>
            <button (click)="proceedToPayment()" type="button" class="btn btn-success">Proceed to Payment</button>
          </div>
          <div *ngIf="proceedToPaymentStatus" class="mt-3 paypal p-5">
            <ngx-paypal [config]="payPalConfig"></ngx-paypal>
          </div>
        </div>
    </div>
</div>